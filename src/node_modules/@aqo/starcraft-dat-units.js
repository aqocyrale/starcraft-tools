'use strict';

// import

const { datFileToJsonFile, jsonFileToDatFile } = require('@aqo/starcraft-dat-codec');

// state

const attributeDescriptors = [
	[ 2, 'Graphics', ],
	[ 2, 'Subunit1', ],
	[ 2, 'Subunit2', ],
	[ 2, 'Infestation', ],
	[ 4, 'ConstructionAnimation', ],
	[ 1, 'UnitDirection', ],
	[ 1, 'ShieldEnable', ],
	[ 2, 'ShieldAmount', ],
	[ 4, 'HitPoints', ],
	[ 1, 'ElevationLevel', ],
	[ 1, 'Unknown', ],
	[ 1, 'Sublabel', ],
	[ 1, 'CompAIIdle', ],
	[ 1, 'HumanAIIdle', ],
	[ 1, 'ReturntoIdle', ],
	[ 1, 'AttackUnit', ],
	[ 1, 'AttackMove', ],
	[ 1, 'GroundWeapon', ],
	[ 1, 'MaxGroundHits', ],
	[ 1, 'AirWeapon', ],
	[ 1, 'MaxAirHits', ],
	[ 1, 'AIInternal', ],
	[ 4, 'SpecialAbilityFlags', ],
	[ 1, 'TargetAcquisitionRange', ],
	[ 1, 'SightRange', ],
	[ 1, 'ArmorUpgrade', ],
	[ 1, 'UnitSize', ],
	[ 1, 'Armor', ],
	[ 1, 'RightClickAction', ],
	[ 2, 'ReadySound', ],
	[ 2, 'WhatSoundStart', ],
	[ 2, 'WhatSoundEnd', ],
	[ 2, 'PissSoundStart', ],
	[ 2, 'PissSoundEnd', ],
	[ 2, 'YesSoundStart', ],
	[ 2, 'YesSoundEnd', ],
	[ 4, 'StarEditPlacementBox', true, ],
	[ 4, 'Addon', true, ],
	[ 8, 'UnitSize', true, ],
	[ 2, 'Portrait', ],
	[ 2, 'MineralCost', ],
	[ 2, 'VespeneCost', ],
	[ 2, 'BuildTime', ],
	[ 2, 'Requirements', ],
	[ 1, 'StarEditGroupFlags', ],
	[ 1, 'SupplyProvided', ],
	[ 1, 'SupplyRequired', ],
	[ 1, 'SpaceRequired', ],
	[ 1, 'SpaceProvided', ],
	[ 2, 'BuildScore', ],
	[ 2, 'DestroyScore', ],
	[ 2, 'UnitMapString', ],
	[ 1, 'BroodwarUnitFlag', ],
	[ 2, 'StarEditAvailabilityFlags' ],
];

// export

module.exports = {
	unitsDatFileToJsonFile,
	unitsJsonFileToDatFile: jsonFileToDatFile,
};

// functions

function unitsDatFileToJsonFile(inputDatFilePath, inputTxtFilePath, outputJsonFilePath) {
	datFileToJsonFile(inputDatFilePath, inputTxtFilePath, outputJsonFilePath, attributeDescriptors);
}
